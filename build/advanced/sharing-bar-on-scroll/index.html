---
layout: default
title: Sharing Playbar on Scroll
description: Pause playback when the player is out of view and allow viewers to control playback or share the page via an external playbar on scroll.
published: true
---

<head>
    <link rel="shortcut icon" href="//developer.jwplayer.com/img/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="template-css/jw-demos.css">

    <link rel="stylesheet" href="../../template-css/jw-demos.css">
    <link rel="stylesheet" href="css/build.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="../../js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>

{% include components/site-secondary-header/site-secondary-header.html product="player" %}


<div class="demos">

  <div class="demos-single-header">
    <div class="demos-single-header-container">
      <h1>Sharing Playbar on Scroll</h1>
      <p>
        Pause playback when the player is out of view and allow viewers to control playback or share the page via an external playbar on scroll.
      </p>
    </div>
  </div>

  <div class="demo-single">

    <div class="demo-nav">
      <div class="demo-back">
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="61.1px" height="100px" viewBox="31.7 11.5 61.1 100" style="enable-background:new 31.7 11.5 61.1 100;" xml:space="preserve">
          <path d="M89.6,14.7c4.3,4.3,4.3,11.3,0,15.5L58.4,61.5l31.2,31.2c4.3,4.3,4.3,11.3,0,15.5c-4.3,4.3-11.3,4.3-15.7,0l-39-39
          c-4.3-4.3-4.3-11.3,0-15.5l39.1-39C78.3,10.4,85.3,10.4,89.6,14.7z"/>
        </svg>
        <a href="../../">Back to Demos</a>
      </div>
      <div class="demo-meta">
        <div class="demo-license">
          License: <strong>All</strong>
        </div>
        <div class="demo-version">
          Player Version: <strong id="demo-player-version"></strong>
        </div>
          <div class="demo-author">
            Author: <strong>Joshua Hatcher</strong>
              <span>| <a href="http://github.com/joshuahatcher">GitHub</a></span>
          </div>
      </div>
      <div class="demo-source-code">
        <a href="//github.com/jwplayer/jwdeveloper-demos/tree/master/demos/advanced/sharing-bar-on-scroll">Source Code</a>
        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100px" height="97.5px" viewBox="0 0 100 97.5" enable-background="new 0 0 100 97.5" xml:space="preserve">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M50,0C22.4,0,0,22.4,0,50c0,22.1,14.3,40.8,34.2,47.4
          	c2.5,0.5,3.4-1.1,3.4-2.4c0-1.2,0-4.3-0.1-8.5c-13.9,3-16.8-6.7-16.8-6.7c-2.3-5.8-5.6-7.3-5.6-7.3c-4.5-3.1,0.3-3,0.3-3
          	c5,0.4,7.7,5.2,7.7,5.2c4.5,7.6,11.7,5.4,14.6,4.2c0.5-3.2,1.7-5.4,3.2-6.7c-11.1-1.3-22.8-5.6-22.8-24.7c0-5.5,1.9-9.9,5.1-13.4
          	c-0.5-1.3-2.2-6.3,0.5-13.2c0,0,4.2-1.3,13.7,5.1c4-1.1,8.3-1.7,12.5-1.7c4.2,0,8.5,0.6,12.5,1.7c9.5-6.5,13.7-5.1,13.7-5.1
          	c2.7,6.9,1,12,0.5,13.2c3.2,3.5,5.1,8,5.1,13.4c0,19.2-11.7,23.4-22.8,24.7c1.8,1.5,3.4,4.6,3.4,9.3c0,6.7-0.1,12.1-0.1,13.7
          	c0,1.3,0.9,2.9,3.4,2.4C85.7,90.8,100,72.1,100,50C100,22.4,77.6,0,50,0z"/>
        </svg>
      </div>
    </div>

      <div class="demo-api-reference">
        <div class="demo-api-reference-link">
          <a href="/jw-player/docs/developer-guide/api/javascript_api_reference/">API Reference</a>
        </div>
        <div class="demo-api-calls-label">
          This demo includes:
        </div>
        <ul class="demo-api-calls">
            <li><code>play()</code></li>
            <li><code>on(&#39;play&#39;)</code></li>
            <li><code>on(&#39;pause&#39;)</code></li>
            <li><code>on(&#39;complete&#39;)</code></li>
            <li><code>on(&#39;playlistItem&#39;)</code></li>
        </ul>
      </div>

    <div class="demo-container">

      <div class="demo-layout-vertical">
        <div class="demo-layout-content">
          <script src="https://content.jwplatform.com/libraries/IDzF9Zmk.js"></script>

<div class="player-container">
  <div id="player"></div>
</div>

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed lobortis vehicula eleifend. Praesent vel diam venenatis, placerat lectus ac, interdum tellus. Vestibulum sed velit feugiat, euismod magna sed, hendrerit justo. Integer rutrum id risus et commodo. Vestibulum vitae facilisis mauris, a fermentum leo. Nam eu pulvinar velit. Quisque et ex malesuada, hendrerit orci vitae, luctus dolor. In hac habitasse platea dictumst. In non interdum enim, eget porta sem. Aliquam eu nunc facilisis, ullamcorper sem eu, porttitor mi. Quisque pharetra vestibulum nulla vel tempor. In hac habitasse platea dictumst.</p>

<p>Etiam condimentum ex nisi, pretium facilisis ex ultrices venenatis. Donec facilisis iaculis velit, ut pulvinar sem. Curabitur vulputate interdum risus varius volutpat. Mauris rutrum lectus bibendum malesuada gravida. Proin ac massa dapibus, lacinia mi eu, sodales leo. In pharetra eros at arcu malesuada luctus. Praesent orci diam, pretium vitae justo dapibus, semper mollis nulla. Etiam eu ligula vitae libero tempor tincidunt. Aenean libero neque, condimentum sit amet nunc vitae, hendrerit tempus libero. Nullam et sapien condimentum sem euismod laoreet.</p>

<p>Cras volutpat velit aliquet eros eleifend imperdiet. Ut eu augue hendrerit, aliquam nisi id, laoreet dui. In malesuada commodo pulvinar. Curabitur non pulvinar felis. Morbi sed malesuada dui. Fusce ligula lacus, luctus porttitor sodales sed, bibendum ut est. Vestibulum quis tortor consectetur, feugiat tellus vel, molestie nisi. Vivamus a mauris sem. Nam molestie eros vulputate turpis ultrices, hendrerit porttitor lacus congue. Fusce ac convallis diam. Integer elementum odio sit amet justo tempor ullamcorper. Mauris egestas nibh justo, et maximus nulla vehicula in. Curabitur accumsan leo vulputate mauris elementum, eget lacinia augue viverra. Aenean consectetur vel lectus et dignissim.</p>

<p>Cras vulputate libero velit. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Ut imperdiet imperdiet ante, at commodo dolor dictum at. Phasellus luctus massa elit, finibus pretium magna interdum eget. Maecenas condimentum ex et efficitur iaculis. Duis porttitor felis id erat imperdiet, sed malesuada eros feugiat. Proin aliquam magna diam, gravida iaculis nulla molestie sed. Fusce aliquam id leo at imperdiet. Etiam ut dictum nunc. Nullam vel neque ultricies, varius ligula ac, consequat turpis. Nunc euismod hendrerit felis, sed cursus velit placerat quis. Morbi vestibulum, metus varius feugiat vehicula, augue dolor pulvinar nisl, a rhoncus tellus turpis a ante. Aliquam condimentum orci quis nunc ullamcorper, eu lacinia metus hendrerit. Nullam laoreet sem massa, a eleifend justo rhoncus quis.</p>

<p>Donec tristique augue id hendrerit placerat. Vestibulum dignissim aliquet sem eget finibus. Nunc non tempor erat. Sed convallis purus vel massa pulvinar ullamcorper. Aenean hendrerit scelerisque hendrerit. Nam id tincidunt justo. Ut metus dui, commodo eu suscipit vel, tristique vitae augue. Pellentesque euismod rutrum lacus facilisis tempus. Sed pharetra ipsum metus, id facilisis sapien pharetra sed. Curabitur sodales elit pellentesque, pulvinar ante ac, commodo augue. Duis dolor lectus, rutrum ut congue ut, blandit a purus. Fusce commodo, ipsum id convallis luctus, tortor mauris fringilla est, at convallis metus mauris quis nisl.</p>

<div class="footer-banner">
  <div class="footer-banner-container">
    <div class="banner-column banner-column-left">
      <button class="icon playback-btn"></button>
      <span class="video-status"></span>&nbsp;
      <span class="video-title"></span>
    </div>
    <div class="banner-column banner-column-right">
      <small>Share this video:</small>
      <a
        class="icon facebook"
        href="https://www.facebook.com/share.php?u=https%3A%2F%2Fdeveloper.jwplayer.com%2Fjw-player%2Fdemos%2Fadvanced%2Fsharing-bar-on-scroll%2F&title=Sharing%20Bar%20on%20Scroll"
        target="_blank">
      </a>
      <a
        class="icon twitter"
        href="http://twitter.com/intent/tweet?status=Sharing%20Bar%20on%20Scroll+https%3A%2F%2Fdeveloper.jwplayer.com%2Fjw-player%2Fdemos%2Fadvanced%2Fsharing-bar-on-scroll%2F"
        target="_blank">
      </a>
    </div>
  </div>
</div>

        </div>
          <div class="demo-layout-code">
            <pre><code class="html">&lt;script type=&quot;text/javascript&quot;&gt;
(function() {
  &#39;use strict&#39;;

  var player;
  var scrollThreshold, scrollTimeout, ticking, lastThresholdCrossed, currentThresholdCrossed;
  var lastScrollHeight = 0;
  var banner = document.querySelector(&#39;.footer-banner&#39;);

  function init() {
    player = jwplayer(&#39;player&#39;).setup({
      playlist: &#39;&#x2F;&#x2F;cdn.jwplayer.com&#x2F;v2&#x2F;media&#x2F;4yN3Zspm&#39;,
      autostart: true,
      mute: true
    }).on(&#39;ready&#39;, function() {
      &#x2F;&#x2F; We will want to pause the video when it is only ten percent visible
      scrollThreshold = getBottomTenPercentDepth(document.getElementById(&#39;player&#39;));
    })

    attachEvents(player);
  }

  function attachEvents(player) {
    player.on(&#39;playlistItem&#39;, function(e) {
      banner.querySelector(&#39;.video-title&#39;).innerHTML = e.item.title;
    });

    banner.querySelector(&#39;.playback-btn&#39;).addEventListener(&#39;click&#39;, togglePlaybackOnClick);

    player.on(&#39;pause&#39;, togglePlaybackDisplay.bind(null, &#39;add&#39;));
    player.on(&#39;play&#39;, togglePlaybackDisplay.bind(null, &#39;remove&#39;));
    player.on(&#39;complete&#39;, togglePlaybackDisplay.bind(null, &#39;add&#39;));

    window.addEventListener(&#39;scroll&#39;, onScroll, false);
  }

  function togglePlaybackOnClick() {
    var isPaused = banner.classList.contains(&#39;is-paused&#39;);

    togglePlayback(isPaused);
  }

  function togglePlaybackDisplay(method) {
    banner.classList[method](&#39;is-paused&#39;);
  }

  function onScroll() {
    if (scrollTimeout) {
      clearTimeout(scrollTimeout);
    }

    requestTick();

    scrollTimeout = setTimeout(function() {
      ticking = cancelAnimationFrame(ticking);
      lastScrollHeight = window.pageYOffset;
    }, 100);
  }

  function requestTick() {
    if (!ticking) {
      ticking = requestAnimationFrame(update);
    }
  }

  function update() {
    toggleBanner();
    togglePlaybackOnScroll();

    ticking = requestAnimationFrame(update);
  }

  function toggleBanner() {
    if (lastScrollHeight &lt;= window.pageYOffset) {
      banner.classList.add(&#39;is-visible&#39;);
    } else {
      banner.classList.remove(&#39;is-visible&#39;);
    }
  }

  function togglePlaybackOnScroll() {
    lastThresholdCrossed = lastScrollHeight &gt; scrollThreshold;
    currentThresholdCrossed = window.pageYOffset &gt; scrollThreshold;

    if (lastThresholdCrossed !== currentThresholdCrossed) {
      &#x2F;&#x2F; If user has scrolled beyond the threshold set, pause the video; otherwise play.
      togglePlayback(!currentThresholdCrossed);
    }
  }

  function togglePlayback(triggerPlay) {
    if (triggerPlay) {
      player.play();
    } else {
      player.pause();
    }
  }

  function getBottomTenPercentDepth(element) {
    var elementYOffset = 0;
    var ninetyPercentElementHeight = element.offsetHeight * 0.9;

    while (element) {
      elementYOffset += element.offsetTop;
      element = element.offsetParent;
    }

    return elementYOffset + ninetyPercentElementHeight;
  }

  init();
}());

(function() {
  &#39;use strict&#39;;

  var player;
  var scrollThreshold, scrollTimeout, ticking, lastThresholdCrossed, currentThresholdCrossed;
  var lastScrollHeight = 0;
  var banner = document.querySelector(&#39;.footer-banner&#39;);

  function init() {
    player = jwplayer(&#39;player&#39;).setup({
      playlist: &#39;&#x2F;&#x2F;cdn.jwplayer.com&#x2F;v2&#x2F;media&#x2F;4yN3Zspm&#39;,
      autostart: true,
      mute: true
    }).on(&#39;ready&#39;, function() {
      &#x2F;&#x2F; We will want to pause the video when it is only ten percent visible
      scrollThreshold = getBottomTenPercentDepth(document.getElementById(&#39;player&#39;));
    })

    attachEvents(player);
  }

  function attachEvents(player) {
    player.on(&#39;playlistItem&#39;, function(e) {
      banner.querySelector(&#39;.video-title&#39;).innerHTML = e.item.title;
    });

    banner.querySelector(&#39;.playback-btn&#39;).addEventListener(&#39;click&#39;, togglePlaybackOnClick);

    player.on(&#39;pause&#39;, togglePlaybackDisplay.bind(null, &#39;add&#39;));
    player.on(&#39;play&#39;, togglePlaybackDisplay.bind(null, &#39;remove&#39;));
    player.on(&#39;complete&#39;, togglePlaybackDisplay.bind(null, &#39;add&#39;));

    window.addEventListener(&#39;scroll&#39;, onScroll, false);
  }

  function togglePlaybackOnClick() {
    var isPaused = banner.classList.contains(&#39;is-paused&#39;);

    togglePlayback(isPaused);
  }

  function togglePlaybackDisplay(method) {
    banner.classList[method](&#39;is-paused&#39;);
  }

  function onScroll() {
    if (scrollTimeout) {
      clearTimeout(scrollTimeout);
    }

    requestTick();

    scrollTimeout = setTimeout(function() {
      ticking = cancelAnimationFrame(ticking);
      lastScrollHeight = window.pageYOffset;
    }, 100);
  }

  function requestTick() {
    if (!ticking) {
      ticking = requestAnimationFrame(update);
    }
  }

  function update() {
    toggleBanner();
    togglePlaybackOnScroll();

    ticking = requestAnimationFrame(update);
  }

  function toggleBanner() {
    if (lastScrollHeight &lt;= window.pageYOffset) {
      banner.classList.add(&#39;is-visible&#39;);
    } else {
      banner.classList.remove(&#39;is-visible&#39;);
    }
  }

  function togglePlaybackOnScroll() {
    lastThresholdCrossed = lastScrollHeight &gt; scrollThreshold;
    currentThresholdCrossed = window.pageYOffset &gt; scrollThreshold;

    if (lastThresholdCrossed !== currentThresholdCrossed) {
      &#x2F;&#x2F; If user has scrolled beyond the threshold set, pause the video; otherwise play.
      togglePlayback(!currentThresholdCrossed);
    }
  }

  function togglePlayback(triggerPlay) {
    if (triggerPlay) {
      player.play();
    } else {
      player.pause();
    }
  }

  function getBottomTenPercentDepth(element) {
    var elementYOffset = 0;
    var ninetyPercentElementHeight = element.offsetHeight * 0.9;

    while (element) {
      elementYOffset += element.offsetTop;
      element = element.offsetParent;
    }

    return elementYOffset + ninetyPercentElementHeight;
  }

  init();
}());
&lt;/script&gt;</code></pre>
          </div>
      </div>

      <div class="demo-disclaimer">
        Please Note: This player implementation is a Proof of Concept only provided to show the possibilities of the JW Player and Platform and should not be taken as an offer to create, edit or maintain custom integration or development.
      </div>

    </div>

  </div>

</div>

          </div>
        </div>
      </div>
    </div>
<script type="text/javascript">
(function() {
  'use strict';

  var player;
  var scrollThreshold, scrollTimeout, ticking, lastThresholdCrossed, currentThresholdCrossed;
  var lastScrollHeight = 0;
  var banner = document.querySelector('.footer-banner');

  function init() {
    player = jwplayer('player').setup({
      playlist: '//cdn.jwplayer.com/v2/media/4yN3Zspm',
      autostart: true,
      mute: true
    }).on('ready', function() {
      // We will want to pause the video when it is only ten percent visible
      scrollThreshold = getBottomTenPercentDepth(document.getElementById('player'));
    })

    attachEvents(player);
  }

  function attachEvents(player) {
    player.on('playlistItem', function(e) {
      banner.querySelector('.video-title').innerHTML = e.item.title;
    });

    banner.querySelector('.playback-btn').addEventListener('click', togglePlaybackOnClick);

    player.on('pause', togglePlaybackDisplay.bind(null, 'add'));
    player.on('play', togglePlaybackDisplay.bind(null, 'remove'));
    player.on('complete', togglePlaybackDisplay.bind(null, 'add'));

    window.addEventListener('scroll', onScroll, false);
  }

  function togglePlaybackOnClick() {
    var isPaused = banner.classList.contains('is-paused');

    togglePlayback(isPaused);
  }

  function togglePlaybackDisplay(method) {
    banner.classList[method]('is-paused');
  }

  function onScroll() {
    if (scrollTimeout) {
      clearTimeout(scrollTimeout);
    }

    requestTick();

    scrollTimeout = setTimeout(function() {
      ticking = cancelAnimationFrame(ticking);
      lastScrollHeight = window.pageYOffset;
    }, 100);
  }

  function requestTick() {
    if (!ticking) {
      ticking = requestAnimationFrame(update);
    }
  }

  function update() {
    toggleBanner();
    togglePlaybackOnScroll();

    ticking = requestAnimationFrame(update);
  }

  function toggleBanner() {
    if (lastScrollHeight <= window.pageYOffset) {
      banner.classList.add('is-visible');
    } else {
      banner.classList.remove('is-visible');
    }
  }

  function togglePlaybackOnScroll() {
    lastThresholdCrossed = lastScrollHeight > scrollThreshold;
    currentThresholdCrossed = window.pageYOffset > scrollThreshold;

    if (lastThresholdCrossed !== currentThresholdCrossed) {
      // If user has scrolled beyond the threshold set, pause the video; otherwise play.
      togglePlayback(!currentThresholdCrossed);
    }
  }

  function togglePlayback(triggerPlay) {
    if (triggerPlay) {
      player.play();
    } else {
      player.pause();
    }
  }

  function getBottomTenPercentDepth(element) {
    var elementYOffset = 0;
    var ninetyPercentElementHeight = element.offsetHeight * 0.9;

    while (element) {
      elementYOffset += element.offsetTop;
      element = element.offsetParent;
    }

    return elementYOffset + ninetyPercentElementHeight;
  }

  init();
}());

(function() {
  'use strict';

  var player;
  var scrollThreshold, scrollTimeout, ticking, lastThresholdCrossed, currentThresholdCrossed;
  var lastScrollHeight = 0;
  var banner = document.querySelector('.footer-banner');

  function init() {
    player = jwplayer('player').setup({
      playlist: '//cdn.jwplayer.com/v2/media/4yN3Zspm',
      autostart: true,
      mute: true
    }).on('ready', function() {
      // We will want to pause the video when it is only ten percent visible
      scrollThreshold = getBottomTenPercentDepth(document.getElementById('player'));
    })

    attachEvents(player);
  }

  function attachEvents(player) {
    player.on('playlistItem', function(e) {
      banner.querySelector('.video-title').innerHTML = e.item.title;
    });

    banner.querySelector('.playback-btn').addEventListener('click', togglePlaybackOnClick);

    player.on('pause', togglePlaybackDisplay.bind(null, 'add'));
    player.on('play', togglePlaybackDisplay.bind(null, 'remove'));
    player.on('complete', togglePlaybackDisplay.bind(null, 'add'));

    window.addEventListener('scroll', onScroll, false);
  }

  function togglePlaybackOnClick() {
    var isPaused = banner.classList.contains('is-paused');

    togglePlayback(isPaused);
  }

  function togglePlaybackDisplay(method) {
    banner.classList[method]('is-paused');
  }

  function onScroll() {
    if (scrollTimeout) {
      clearTimeout(scrollTimeout);
    }

    requestTick();

    scrollTimeout = setTimeout(function() {
      ticking = cancelAnimationFrame(ticking);
      lastScrollHeight = window.pageYOffset;
    }, 100);
  }

  function requestTick() {
    if (!ticking) {
      ticking = requestAnimationFrame(update);
    }
  }

  function update() {
    toggleBanner();
    togglePlaybackOnScroll();

    ticking = requestAnimationFrame(update);
  }

  function toggleBanner() {
    if (lastScrollHeight <= window.pageYOffset) {
      banner.classList.add('is-visible');
    } else {
      banner.classList.remove('is-visible');
    }
  }

  function togglePlaybackOnScroll() {
    lastThresholdCrossed = lastScrollHeight > scrollThreshold;
    currentThresholdCrossed = window.pageYOffset > scrollThreshold;

    if (lastThresholdCrossed !== currentThresholdCrossed) {
      // If user has scrolled beyond the threshold set, pause the video; otherwise play.
      togglePlayback(!currentThresholdCrossed);
    }
  }

  function togglePlayback(triggerPlay) {
    if (triggerPlay) {
      player.play();
    } else {
      player.pause();
    }
  }

  function getBottomTenPercentDepth(element) {
    var elementYOffset = 0;
    var ninetyPercentElementHeight = element.offsetHeight * 0.9;

    while (element) {
      elementYOffset += element.offsetTop;
      element = element.offsetParent;
    }

    return elementYOffset + ninetyPercentElementHeight;
  }

  init();
}());
</script>
<script type="text/javascript">
  function setVersion() {
    if (typeof jwplayer === 'undefined') {
      setTimeout(setVersion, 100);
      return;
    }

    if (jwplayer && jwplayer().id) {
      jwplayer().on('ready', function() {
        document.getElementById('demo-player-version').innerHTML = jwplayer.version.split('+')[0];
      });
    }
  }

  setVersion();
</script>
  </body>
</html>
